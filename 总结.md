agent 是怎么执行的？？
模型 + 工具

其实就是，前端写好一个 system 提示词。
大模型返回以后，前端就根据对应的标签，去做对应的事情

比如如果模型返回的是 thought，那么就直接输出思考
如果模型返回的是 tools 标签，那么前端就进行字符串解析，解析出来里面的函数，然后去直接调用函数
（重点其实就是这一步）

while true
思考
thought\_\_match = re.search(r"<thought>(.\*?)</thought>",content")
函数
thought\_\_match = re.search(r"<action>(.\*?)</action>",content")
最后回答
final\_\_answer = re.search(r"<final_answer>(.\*?)</final_answer>",content")
if(xxx)
break
如果返回的是 final，那么就直接 break，返回最后的结论

这是简单的 react 模式

稍微复杂一点的
plan and execute Agent 模式
Agent 包含如下

plan 模型
replan 模型，随时修改计划
执行 agent
agent 执行主程序

1. 执行计划
2. 执行计划如下
   执行第一步 - 返回结果 - 给出新的计划（加入到历史执行计划 + 当前计划，一起发给模型）  
    --- 执行第二步 - 返回结果 - 继续给出新的计划
